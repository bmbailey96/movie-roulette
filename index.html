<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Movie Roulette</title>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="theme-color" content="#0b0b0b"/>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
  <div class="wrap">
    <main class="card" id="root">
      <header>
        <div>
          <h1 class="appTitle">üé≤ Movie Roulette</h1>
          <div class="sub">Drag the dot to mix: Cursed ‚Ä¢ Spooky ‚Ä¢ Cozy.</div>
        </div>
        <div class="deck"><span id="left">0</span> left ¬∑ <span id="total">0</span> total</div>
      </header>

      <section class="vibeBar">
        <div class="triWrap">
          <div id="vibePad" aria-label="Vibe triangle chooser"></div>
          <div class="triLegend">
            <span>üùÆ Cursed <b id="pcC">33%</b></span>
            <span>üïØÔ∏è Spooky <b id="pcS">33%</b></span>
            <span>‚òï Cozy <b id="pcZ">34%</b></span>
          </div>
        </div>

        <div class="vibeSide">
          <div class="group">
            <span class="label">Bias</span>
            <div class="seg" id="biasSegTop">
              <button data-bias="T" class="active">Tight</button>
              <button data-bias="M">Med</button>
              <button data-bias="W">Wide</button>
            </div>
          </div>
          <div class="presets" id="presets">
            <button class="preset" data-preset="cozy">Cozy offbeat</button>
            <button class="preset" data-preset="midnight">Cult midnight</button>
            <button class="preset" data-preset="folk">Folk dread</button>
            <span class="lockChip" id="presetLock" style="display:none;"></span>
          </div>
        </div>
      </section>

      <div id="err" class="errBanner" style="display:none;"></div>

      <section class="stage" aria-live="polite">
        <img id="poster" class="poster skeleton" referrerpolicy="no-referrer" alt="Movie poster"/>
        <div class="infoCol" id="longPressArea" title="Hold to banish (250ms)">
          <h2 class="titleMovie" id="title">‚Äî</h2>
          <p class="tagline" id="taglineInline" style="display:none;"></p>

          <div class="chips">
            <span class="chip" id="year" style="display:none;"></span>
            <span class="chip" id="runChip" style="display:none;"></span>
          </div>

          <div id="vibeBadge"></div>

          <div class="links" id="linksRow"></div>
        </div>
      </section>

      <nav class="dock" id="dock">
        <button id="deal" class="btn pri">Deal</button>
        <button id="reroll" class="btn gh">Re-roll</button>
        <button id="openFilters" class="btn gh">Filters</button>
        <button id="resetDeck" class="btn gh" style="display:none;">Reset</button>
        <button id="shareCard" class="btn gh">Share</button>
        <button id="undo" class="btn gh">Undo banish</button>
      </nav>
    </main>
  </div>

  <dialog id="filtersDlg">
    <div class="dlgHead">
      <strong>Filters</strong>
      <div class="kicker" id="deckCountMini">Deck: 0</div>
    </div>

    <div class="kicker">Themes</div>
    <div class="rowFilt mb8">
      <div class="pill active" id="thAll">All</div>
      <div class="pill" id="thWitch">Witchy</div>
      <div class="pill" id="thBody">Body</div>
      <div class="pill" id="thFolk">Folk</div>
      <div class="pill" id="thFound">Found</div>
      <div class="pill" id="thNeon">Neon</div>
    </div>

    <div class="kicker">Content</div>
    <div class="rowFilt mb12">
      <div class="pill" id="fNoGore">No gore</div>
      <div class="pill" id="fNoSV">No sexual violence</div>
      <div class="pill" id="fNoKids">No kids-in-peril</div>
    </div>

    <div class="rowFilt endRow">
      <button class="btn gh" id="resetAll">Reset</button>
      <button class="btn pri" id="closeFilters">Close</button>
    </div>
  </dialog>

  <div class="toast" id="toast">Banished ‚Äî Undo</div>

  <script src="./script.js"></script>
</body>
</html>
